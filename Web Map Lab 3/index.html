<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8 />
	<title>Map Template Browser Title</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet">

	<style>
		body {
			margin: 0;
			padding: 0;
			background: "whitesmoke";
			font-family: "Noto Sans", sans-serif;
			color: #3d3d3d;
		}

		h1 {
			position: absolute;
			margin-top: 0;
			top: 10px;
			left: 45px;
			font-size: 2em;
			font-family: "Lora", serif;
			letter-spacing: .04em;
			padding: 10px 15px;
			background: rgba(256, 256, 256);
			border: 1px solid grey;
			border-radius: 3px;
			z-index: 800;
		}

		h2 {
			font-family: "Lora", serif;
			letter-spacing: .04em;
		}

		#map {
			position: absolute;
			top: 0;
			bottom: 0;
			width: 100%;
		}

		section {
			position: absolute;
			bottom: 0;
			left: 10px;
			width: 280px;
			margin: 20px auto;
			padding: 0 15px;
			background: rgba(256, 256, 256);
			border: 1px solid grey;
			border-radius: 3px;
			z-index: 800;
		}

		p {
			font-size: .9em;
			line-height: 1.5em;
		}

		a {
			color: #005daa;
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}
	</style>
</head>

<body>

	<h1>Route From Andrews Geyser to Ridgcrest</h1>

	<div id='map'></div>

    <!-- This is where info is going-->
	<section>
		<h2>About this map</h2>

		<p>Mill Creek runs through the downtown area and borders one of its most popular parks at Andrews Geyser.  With this designation, you may opt to purchase a specialty trout license, cost is $5.00 and may be used for a three day period in any of North Carolina's Mountain Trout Towns!</p>

		<p>Ridgecrest Conference Center is a 1,300-acre Christian conference center located in the beautiful Blue Ridge Mountains in western North Carolina. Since its founding more than 100 years ago, Ridgecrest has welcomed over one million guests including thousands who have participated in FUGE Camps since 1979.</p>

		<p>Text provided by <a href="https://www.destinationmcdowell.com/attractions/mill-creek/">Destination McDowell</a>/a></p>
        <p>And also by <a href="https://fugecamps.lifeway.com/venue/ridgecrest-conference-center/">FUGE Camps at Ridgecrest Confrence Center</a></p>
		<p>Map authored by Riley Moore</p>

	</section>

	<script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>

    <!-- this line loads new data file-->
   <script src="data/route.js"></script>

    <script>


//options to be used when creating the map
		var options = {
			center: [35.63646,-82.25308],
			zoom: 16
		}

//creation of the Leaflet map 
var map = L.map('map', options); 
//request to load basemap

var  Stadia_Outdoors = L.tileLayer('https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.{ext}', {
	minZoom: 0,
	maxZoom: 20,
	attribution: '&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
	ext: 'png'
}).addTo(map);



//create a custom line feature for our route
var myRoute = L.geoJson(data, {
    filter: function(feature) {
        if(feature.geometry.type == "LineString") {
            return feature;
        }
    },

    style: function(feature) {
        return {
            color: "red", 
            weight: 7,
            opacity: 0.7,
            dashArray: "5, 5"
        }
    },
}).addTo(map);

var myStops = L.geoJson(data, {
    filter : function(feature) {
        if(feature.geometry.type == "Point") {
            return feature;
        }
    },

    onEachFeature: function(feature, layer) {
        layer.bindTooltip(feature.properties['name']); 
        console.log(feature.properties)
    }
}).addTo(map);

map.fitBounds(myRoute.getBounds());


	</script>

</body>

</html>
